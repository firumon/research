import{c as Q,h as C,j as x,Q as S}from"./QBtn.0eaee2c5.js";import{d as L,c as k,Q as u,b as g}from"./QItem.c9727a7b.js";import{i as v,q as o,f as m,h as q,t as M,K as $,g as B,a4 as F,O as p,Q as _,R as s,S as n,Y as I,Z as P,u as R,$ as b,X as V,U as f,V as h}from"./index.90586323.js";import{V as W,W as w}from"./firebase.2bc01cc1.js";import{u as K}from"./index.18489466.js";var N=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(c,{slots:l}){const{proxy:{$q:r}}=B(),e=v(M,o);if(e===o)return console.error("QPage needs to be a deep child of QLayout"),o;if(v($,o)===o)return console.error("QPage needs to be child of QPageContainer"),o;const d=m(()=>{const t=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof c.styleFn=="function"){const i=e.isContainer.value===!0?e.containerHeight.value:r.screen.height;return c.styleFn(t,i)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-t+"px":r.screen.height===0?t!==0?`calc(100vh - ${t}px)`:"100vh":r.screen.height-t+"px"}}),a=m(()=>`q-page${c.padding===!0?" q-layout-padding":""}`);return()=>q("main",{class:a.value,style:d.value},C(l.default))}}),E="/assets/quasar-logo-vertical.55e9c854.svg";const H=F("updates",{state:()=>({changes:{"6amZLLCNTU50KLe1CQOt":"added"}})}),U=V("img",{alt:"Quasar logo",src:E,style:{width:"200px",height:"200px"}},null,-1),Z={__name:"IndexPage",setup(c){const l=W(w,"updates"),r=K(l),e=H(),y=m(()=>e.changes);navigator.serviceWorker.ready.then(a=>{console.log("SW Ready"),a.active.addEventListener("message",t=>{console.log("Main App Received Message (ready)",{evt:t,data:t.data})})}),navigator.serviceWorker.addEventListener("message",a=>{console.log("Main App Received Message (native)",{evt:a,data:a.data}),a.data.type==="qsnpsht"&&(e.changes[a.data.id]=a.data.change)});function d(){navigator.serviceWorker.ready.then(a=>{a.active.postMessage({type:"SetClient"})})}return(a,t)=>(p(),_(N,{class:"flex flex-center column q-gutter-y-md",padding:""},{default:s(()=>[U,n(L,null,{default:s(()=>[(p(!0),I(b,null,P(R(r),i=>(p(),_(k,null,{default:s(()=>[n(u,{side:"",top:""},{default:s(()=>[n(S,{name:"done_all",color:"positive"})]),_:1}),n(u,null,{default:s(()=>[n(g,null,{default:s(()=>[f(h(i.when),1)]),_:2},1024),n(g,{caption:""},{default:s(()=>[f(h(i.id),1)]),_:2},1024)]),_:2},1024),n(u,{side:""},{default:s(()=>[n(g,{caption:""},{default:s(()=>[f(h(y.value[i.id]||"--"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1}),n(x,{onClick:d,label:"Send Message",color:"primary"})]),_:1}))}};export{Z as default};
