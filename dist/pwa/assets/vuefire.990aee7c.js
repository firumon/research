import{e as i,g as f,i as l,r as m,b as p}from"./index.54731e96.js";import{g,o as h,a as d,f as M}from"./firebase.7769d410.js";const c=Symbol("firebaseApp");function v(e){return f()&&l(c,null)||d(e)}const a=new WeakMap;function S(e,t){if(!a.has(e)){const n=i(!0);a.set(e,n);const{unmount:o}=t;t.unmount=()=>{o.call(t),n.stop(),a.delete(e)}}return a.get(e)}const y=new WeakMap,u=new WeakMap;function A(e){const t=v(e);if(!u.has(t)){let n;const s=[new Promise(r=>{n=r}),r=>{u.set(t,r),n(r.value)}];u.set(t,s)}return u.get(t)}function b(e,t){const n=g(t);h(n,o=>{const s=A();e.value=o,Array.isArray(s)&&s[1](e)})}function k(e){return(t,n)=>{const o=S(t,n).run(()=>m(e));y.set(t,o),b(o,t)}}function w(e,{firebaseApp:t,modules:n=[]}){e.provide(c,t);for(const o of n)o(t,e)}var I=p(async({app:e})=>{e.use(w,{firebaseApp:M,modules:[k()]})});export{I as default};
